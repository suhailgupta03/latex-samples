\documentclass[a4paper,12pt]{report}
\usepackage{luacode}

\begin{luacode}
local json = require("json")
local file = io.open("sample.json")
tab = json.parse(file:read("*all"))
file:close()
\end{luacode}

\begin{luacode}
local function isempty(s)
  return s == nil or s == ''
end

function renderRead()
	local f = assert(io.open("render.tex", "rb"))
    	local content = f:read("*all")
	f:close()
	tex.print(content)
end

function renderSections(tab)
    	r = ""
	for i,k in pairs(tab['tableOfContents']) do
		 r = "   "  .. r .. ("\string\\section{" .. k.section.title .. "}")
		 r = "   " .. r .. ("section text here")
		 for ii,kk in pairs(k["subsection"]) do
		 	r = "   " .. r ..  ("\string\\subsection{" .. kk.title .. "}")
		 	r = "   " .. r ..  ("some text here")
			--r = "   " .. r .. ("\string\\newline") .. " "
			for iii, kkk in pairs(kk["content"]) do
				if kkk['type'] == "text" then
					r = "   " .. r .. (kkk["line"])
					--r = " " .. r .. ("\string\\newline") .. " "
				elseif kkk["type"] == "table" then
					local column_count = 0
					local row_count = 0
					col_schema = ""
					for _ in pairs(kkk["columns"]) do 
						column_count = column_count + 1 
						col_schema = col_schema .. " | l"
					end
					col_schema = col_schema .. "|"
					for _ in pairs(kkk["columns"][1]["values"]) do row_count = row_count + 1 end
					if not isempty(kkk.title) then
						r = "   " .. r .. ("\string\\textbf{" .. kkk.title .."}")
						r = "   " .. r .. ("\\\\[0.1in]")
					end
					r = "   " .. r .. ("\string\\begin{tabular}{"  .. col_schema ..  "}")
					r = "   " .. r .. ("\\hline") .. "    "
					for ci, c in pairs(kkk["columns"]) do
						r = "    " .. r .. (c.name)
						if ci < column_count then
							r = "    " .. r .. (" & ")
						end
					end	
					r = "   " .. r .. ("\\\\") .. "    "
					r = "   " .. r .. ("\\hline") .. "    "
					i = 1
					while i <= row_count do
						local c_c = 1
						while c_c <= column_count do
							r = " " .. r .. (kkk["columns"][c_c]["values"][i])
							if c_c < column_count then
								r = " " .. r .. (" & ")
							end
							c_c = c_c + 1
						end
						r = "   " .. r .. ("\\\\") .. "    "
						r = "    " .. r .. ("\\hline") .. "    "
						i = i + 1
					end
					r = "    " .. r .. ("\string\\end{tabular}")
					r = "    " .. r .. ("\\\\[0.5in]") .. "    "
				end
			end
		 end
	end

    file = io.open("render.tex", "w")
    io.output(file)
    io.write(r)
    io.close(file)
end
\end{luacode}

\title{\directlua{tex.print(tab['documentName'])}}
\author{\directlua{tex.print(tab['author'])}}
\usepackage{fancyhdr}
\usepackage{pgffor}
\usepackage{lastpage}
\usepackage[landscape, margin=1in]{geometry}
\usepackage[yyyymmdd,hhmmss]{datetime}
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan,
    pdftitle={MAC Report},
    bookmarks=true,
    pdfpagemode=FullScreen,
}
% https://en.wikibooks.org/wiki/LaTeX/Colors
\usepackage[svgnames]{xcolor}
\pagestyle{fancy}
\fancyhf{}


\lhead{\directlua{tex.print(tab['headerFooter']['header']['left'])}}
\rhead{\directlua{tex.print(tab['headerFooter']['header']['right'])}}
\lfoot{\directlua{tex.print(tab['headerFooter']['footer']['left'])}}
\rfoot{\thepage\ of \pageref{LastPage}}
\cfoot{}
\renewcommand*\contentsname{TABLE OF CONTENTS}


\begin{document}
\maketitle


\paragraph{Document Information}

\subparagraph{Document information is given in the table below}

\subparagraph{}
\begin{tabular}{|c| c| c|}
\hline
\textbf{S.No} & \textbf{Item} & \textbf{Information} \\
\hline
1 & Document ID & \directlua{tex.print(tab['documentId'])} \\
\hline
2 & Document Generated At & \directlua{tex.print(tab['documentGeneratedAt'])} \\
\hline	
3 & Document Generated By & \directlua{tex.print(tab['documentGeneratedBy'])} \\
\hline
4 & MAC Protocol ID & \directlua{tex.print(tab['macProtocolID'])} \\
\hline
\end{tabular}
%\newpage
%\textcolor{NavyBlue}{TABLE OF CONTENTS}
\tableofcontents
\directlua{renderRead()}

\end{document}